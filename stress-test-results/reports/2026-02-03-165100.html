<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TACo Stress Test Report</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --bg: #000000;
      --card-bg: #111111;
      --text: #ffffff;
      --text-muted: #909090;
      --accent: #96FF5E;
      --success: #96FF5E;
      --warning: #ffa726;
      --error: #ef5350;
      --border: #333333;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      padding: 2rem;
    }
    .container { max-width: 1400px; margin: 0 auto; }
    .header { display: flex; align-items: center; gap: 1.5rem; margin-bottom: 0.5rem; }
    .header svg { flex-shrink: 0; }
    h1 { font-size: 1.5rem; font-weight: 700; letter-spacing: 0.05em; }
    h2 { font-size: 1.25rem; margin: 2rem 0 1rem; color: var(--accent); border-bottom: 1px solid var(--border); padding-bottom: 0.5rem; letter-spacing: 0.05em; }
    h3 { font-size: 1rem; margin: 1.5rem 0 0.75rem; letter-spacing: 0.03em; }
    .timestamp { color: var(--text-muted); margin-bottom: 2rem; font-size: 0.85rem; }
    .data-source { color: var(--text-muted); margin-bottom: 0.5rem; font-size: 0.8rem; }
    .summary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .summary-card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 4px;
      padding: 1.5rem;
      text-align: center;
    }
    .summary-card .value {
      font-size: 2rem;
      font-weight: bold;
      color: var(--accent);
    }
    .summary-card .label { color: var(--text-muted); font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.1em; }
    .summary-card.success .value { color: var(--success); }
    .summary-card.warning .value { color: var(--warning); }
    .summary-card.error .value { color: var(--error); }
    .chart-container {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 4px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      min-height: 350px;
    }
    .chart-container canvas {
      max-height: 320px;
    }
    .chart-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
      gap: 1.5rem;
    }
    @media (max-width: 1100px) {
      .chart-row {
        grid-template-columns: 1fr;
      }
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 4px;
      overflow: hidden;
      margin-bottom: 1.5rem;
      font-size: 0.9rem;
    }
    th, td {
      padding: 0.75rem 1rem;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }
    th { background: rgba(150, 255, 94, 0.1); color: var(--accent); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; font-size: 0.8rem; }
    tr:last-child td { border-bottom: none; }
    tr:hover { background: rgba(150, 255, 94, 0.05); }
    .error-section {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 4px;
      padding: 1.5rem;
      margin-bottom: 1rem;
    }
    .error-type {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem 0;
      border-bottom: 1px solid var(--border);
    }
    .error-type:last-child { border-bottom: none; }
    .error-count {
      background: var(--error);
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: 2px;
      font-size: 0.85rem;
      font-weight: bold;
    }
    .error-example {
      font-family: 'SF Mono', 'Monaco', monospace;
      font-size: 0.75rem;
      color: var(--text-muted);
      background: rgba(0,0,0,0.3);
      padding: 0.5rem;
      margin-top: 0.5rem;
      border-radius: 2px;
      word-break: break-all;
      max-height: 100px;
      overflow-y: auto;
    }
    details { margin-bottom: 0.5rem; }
    summary { cursor: pointer; padding: 0.5rem 0; }
    summary:hover { color: var(--accent); }
    .glossary {
      background: var(--card-bg);
      border-radius: 8px;
      padding: 1.5rem;
      margin-top: 2rem;
    }
    .glossary dt { color: var(--accent); font-weight: 600; margin-top: 0.75rem; }
    .glossary dd { color: var(--text-muted); margin-left: 1rem; }
    .config-list { list-style: none; }
    .config-list li { padding: 0.25rem 0; }
    .config-list strong { color: var(--accent); }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <svg width="150" height="64" viewBox="0 0 301 128" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_2309_654)"><path d="M35.9287 40.8643H33V86.8327H35.9287V40.8643Z" fill="white"/><path d="M93.9414 40.8643H91.0127V86.8327H93.9414V40.8643Z" fill="white"/><path d="M151.964 40.8643H149.035V86.8327H151.964V40.8643Z" fill="white"/><path d="M209.977 40.8643H207.048V86.8327H209.977V40.8643Z" fill="white"/><path d="M267.999 40.8643H265.07V86.8327H267.999V40.8643Z" fill="white"/><path d="M86.4775 33.4H40.4727V36.3252H86.4775V33.4Z" fill="white"/><path d="M144.492 33.4H98.4873V36.3252H144.492V33.4Z" fill="white"/><path d="M202.513 33.4H156.508V36.3252H202.513V33.4Z" fill="white"/><path d="M260.527 33.4H214.522V36.3252H260.527V33.4Z" fill="white"/><path d="M86.4775 91.3719H40.4727V94.2971H86.4775V91.3719Z" fill="white"/><path d="M144.492 91.3719H98.4873V94.2971H144.492V91.3719Z" fill="white"/><path d="M202.513 91.3719H156.508V94.2971H202.513V91.3719Z" fill="white"/><path d="M260.527 91.3719H214.522V94.2971H260.527V91.3719Z" fill="white"/><path d="M61.5334 76.8008V52.7666H54.6479C53.6563 52.7666 52.876 51.9872 52.876 50.9968V50.8501C52.876 49.8598 53.6563 49.0803 54.6479 49.0803H72.3117C73.3032 49.0803 74.0835 49.8598 74.0835 50.8501V50.9968C74.0835 51.9872 73.3032 52.7666 72.3117 52.7666H65.4261V76.8008C65.4261 77.837 64.6457 78.6164 63.5257 78.6164H63.443C62.3413 78.6164 61.5426 77.837 61.5426 76.8008H61.5334Z" fill="white"/><path d="M110.88 76.7551C110.88 76.4525 110.926 76.1315 111.027 75.7923L117.747 52.0148C118.234 50.2634 119.519 49.0621 121.318 49.0621C123.118 49.0621 124.321 50.2634 124.844 52.0148L132.023 75.8564C132.115 76.1682 132.161 76.4708 132.161 76.7459C132.161 77.8555 131.445 78.6257 130.224 78.6257H130.095C129.232 78.6257 128.571 78.2223 128.305 77.2961L126.781 72.3627H116.113L114.672 77.3878C114.414 78.2498 113.744 78.6349 112.946 78.6349H112.817C111.523 78.6349 110.88 77.8646 110.88 76.7643V76.7551ZM125.762 68.6581L121.346 53.4637H121.217L117.013 68.6581H125.762Z" fill="white"/><path d="M175.118 75.3154L171.317 68.4747C170.325 66.7049 170.096 65.3936 170.096 63.8348C170.096 62.2759 170.334 60.9646 171.317 59.1948L175.118 52.3541C176.109 50.5843 177.358 49.0621 179.974 49.0621H187.245C188.255 49.0621 189.017 49.8416 189.017 50.8319V50.9786C189.017 51.969 188.255 52.7484 187.245 52.7484H180.571C179.68 52.7484 179.175 52.9593 178.358 54.4357L174.897 60.6345C174.264 61.7716 174.007 62.661 174.007 63.8164C174.007 64.9718 174.264 65.8613 174.897 67.0075L178.358 73.2064C179.185 74.6827 179.69 74.8936 180.571 74.8936H187.245C188.255 74.8936 189.017 75.6731 189.017 76.6634V76.8101C189.017 77.8005 188.255 78.5799 187.245 78.5799H179.974C177.358 78.5799 176.109 77.0577 175.118 75.2879V75.3154Z" fill="white"/><path d="M230.771 59.7818L231.937 58.874C233.103 57.9662 234.141 57.526 235.784 57.526H239.42C241.063 57.526 242.1 57.9662 243.266 58.874L244.432 59.7818C246.269 61.2215 246.902 62.1018 246.902 64.275V71.8768C246.902 74.0501 246.269 74.9396 244.432 76.3701L243.266 77.2779C242.1 78.1857 241.063 78.6258 239.42 78.6258H235.784C234.132 78.6258 233.103 78.1857 231.937 77.2779L230.771 76.3701C228.935 74.9304 228.302 74.0501 228.302 71.8768V64.275C228.302 62.1018 228.935 61.2123 230.771 59.7818ZM233.094 73.6283L233.709 74.1143C234.49 74.7286 235.105 74.9396 236.16 74.9396H239.034C240.09 74.9396 240.696 74.7286 241.485 74.1143L242.1 73.6283C243.138 72.803 243.386 72.2344 243.386 70.8865V65.247C243.386 63.899 243.138 63.3489 242.1 62.5236L241.485 62.0376C240.705 61.4232 240.09 61.2123 239.034 61.2123H236.16C235.105 61.2123 234.49 61.4232 233.709 62.0376L233.094 62.5236C232.057 63.3489 231.809 63.899 231.809 65.247V70.8865C231.809 72.2344 232.066 72.8121 233.094 73.6283Z" fill="white"/></g><defs><clipPath id="clip0_2309_654"><rect width="235" height="60.897" fill="white" transform="translate(33 33.4)"/></clipPath></defs></svg>
      <h1>Stress Test Report</h1>
    </div>
    <p class="timestamp">Generated: 2026-02-03T16:51:00.477Z</p>
    <p class="data-source">Test data from: 2026-02-03T16:51:00.468Z</p>

    <div class="summary-grid">
      <div class="summary-card">
        <div class="value">117</div>
        <div class="label">Total Requests</div>
      </div>
      <div class="summary-card success">
        <div class="value">14.5%</div>
        <div class="label">Success Rate</div>
      </div>
      <div class="summary-card">
        <div class="value">17</div>
        <div class="label">Successful</div>
      </div>
      <div class="summary-card error">
        <div class="value">100</div>
        <div class="label">Failed</div>
      </div>
    </div>

    <h2>Configuration</h2>
    <ul class="config-list">
      <li><strong>Mode:</strong> sweep</li>
      <li><strong>Steady Rates:</strong> 3, 6, 30, 60 requests/min</li>
      <li><strong>Duration per Rate:</strong> 60s</li>
      <li><strong>Burst Sizes:</strong> 3, 5, 10</li>
      <li><strong>Batches per Burst:</strong> 1</li>
    </ul>

    
    <h2>Steady Rate Tests</h2>
    <p style="color: var(--text-muted); margin-bottom: 1rem;">
      Tests sustained load by firing requests at fixed intervals. At higher rates, more requests will be in-flight concurrently
      since each TACo signing takes ~10s to complete.
    </p>

    <div class="chart-row">
      <div class="chart-container">
        <canvas id="steadySuccessChart"></canvas>
      </div>
      <div class="chart-container">
        <canvas id="steadyLatencyChart"></canvas>
      </div>
    </div>

    <h3>Detailed Results</h3>
    <table>
      <thead>
        <tr>
          <th>Request Rate</th>
          <th>Total</th>
          <th>Success %</th>
          <th>Success Latency p50</th>
          <th>Failure Latency p50</th>
          <th>TACo Signing p50</th>
        </tr>
      </thead>
      <tbody>
        <tr>
            <td>3/min</td>
            <td>3</td>
            <td>100.0%</td>
            <td>12.7s</td>
            <td>N/A</td>
            <td>9.7s</td>
          </tr><tr>
            <td>6/min</td>
            <td>6</td>
            <td>100.0%</td>
            <td>12.7s</td>
            <td>N/A</td>
            <td>9.7s</td>
          </tr><tr>
            <td>30/min</td>
            <td>30</td>
            <td>20.0%</td>
            <td>23.7s</td>
            <td>35.4s</td>
            <td>21.1s</td>
          </tr><tr>
            <td>60/min</td>
            <td>60</td>
            <td>3.3%</td>
            <td>17.2s</td>
            <td>35.0s</td>
            <td>14.0s</td>
          </tr>
      </tbody>
    </table>
    

    
    <h2>Burst Size Tests</h2>
    <p style="color: var(--text-muted); margin-bottom: 1rem;">
      Tests concurrent request handling by firing N requests simultaneously, waiting for all to complete, then repeating.
      This measures how the system handles spikes of concurrent load.
    </p>

    <div class="chart-row">
      <div class="chart-container">
        <canvas id="burstSuccessChart"></canvas>
      </div>
      <div class="chart-container">
        <canvas id="burstLatencyChart"></canvas>
      </div>
    </div>

    <h3>Detailed Results</h3>
    <table>
      <thead>
        <tr>
          <th>Burst Size</th>
          <th>Total</th>
          <th>Batches</th>
          <th>Success %</th>
          <th>Success Latency p50</th>
          <th>Failure Latency p50</th>
          <th>TACo Signing p50</th>
        </tr>
      </thead>
      <tbody>
        <tr>
            <td>3</td>
            <td>3</td>
            <td>1</td>
            <td>0.0%</td>
            <td>N/A</td>
            <td>60.0s</td>
            <td>N/A</td>
          </tr><tr>
            <td>5</td>
            <td>5</td>
            <td>1</td>
            <td>0.0%</td>
            <td>N/A</td>
            <td>1m 0s</td>
            <td>N/A</td>
          </tr><tr>
            <td>10</td>
            <td>10</td>
            <td>1</td>
            <td>0.0%</td>
            <td>N/A</td>
            <td>1m 0s</td>
            <td>N/A</td>
          </tr>
      </tbody>
    </table>
    

    
    <h2>Error Analysis</h2>
    
      <div class="error-section">
        <h3>Steady @ 30 requests/min</h3>
        
          <details>
            <summary class="error-type">
              <span>Threshold of signatures not met</span>
              <span class="error-count">5</span>
            </summary>
            <div class="error-example">[taco-signing] Threshold of signatures not met; TACo signing failed with errors: {"0x48C8039c32F4c6f5cb206A5911C8Ae814929C16B":"Node 0x48C8039c32F4c6f5cb206A5911C8Ae814929C16B did not respond before timeout (30s).","0xb15d5A4e2be34f4bE154A1b08a94Ab920FfD8A41":"Node 0xb15d5A4e2be34f4bE154A1b08a94Ab920FfD8A41 did not respond before timeout (30s)."}</div>
          </details>
        
          <details>
            <summary class="error-type">
              <span>Request timeout</span>
              <span class="error-count">1</span>
            </summary>
            <div class="error-example">[timeout] Request timed out after 60s</div>
          </details>
        
          <details>
            <summary class="error-type">
              <span>Network error (RPC overload)</span>
              <span class="error-count">1</span>
            </summary>
            <div class="error-example">[create-smart-account] could not detect network (event="noNetwork", code=NETWORK_ERROR, version=providers/5.8.0)</div>
          </details>
        
      </div>
    
      <div class="error-section">
        <h3>Steady @ 60 requests/min</h3>
        
          <details>
            <summary class="error-type">
              <span>Threshold of signatures not met</span>
              <span class="error-count">5</span>
            </summary>
            <div class="error-example">[taco-signing] Threshold of signatures not met; TACo signing failed with errors: {"0x210eeAC07542F815ebB6FD6689637D8cA2689392":"Node 0x210eeAC07542F815ebB6FD6689637D8cA2689392 did not respond before timeout (30s).","0xb15d5A4e2be34f4bE154A1b08a94Ab920FfD8A41":"Node 0xb15d5A4e2be34f4bE154A1b08a94Ab920FfD8A41 did not respond before timeout (30s)."}</div>
          </details>
        
          <details>
            <summary class="error-type">
              <span>Request timeout</span>
              <span class="error-count">1</span>
            </summary>
            <div class="error-example">[timeout] Request timed out after 60s</div>
          </details>
        
      </div>
    
      <div class="error-section">
        <h3>Burst size 3</h3>
        
          <details>
            <summary class="error-type">
              <span>Request timeout</span>
              <span class="error-count">1</span>
            </summary>
            <div class="error-example">[timeout] Request timed out after 60s</div>
          </details>
        
      </div>
    
      <div class="error-section">
        <h3>Burst size 5</h3>
        
          <details>
            <summary class="error-type">
              <span>Request timeout</span>
              <span class="error-count">1</span>
            </summary>
            <div class="error-example">[timeout] Request timed out after 60s</div>
          </details>
        
      </div>
    
      <div class="error-section">
        <h3>Burst size 10</h3>
        
          <details>
            <summary class="error-type">
              <span>Request timeout</span>
              <span class="error-count">1</span>
            </summary>
            <div class="error-example">[timeout] Request timed out after 60s</div>
          </details>
        
      </div>
    
    

    <details class="glossary">
      <summary><h2 style="display: inline;">Glossary</h2></summary>
      <dl>
        <dt>Request Rate</dt>
        <dd>The rate at which new requests are initiated (e.g., 60/min = 1 new request every second)</dd>
        <dt>Burst Size</dt>
        <dd>Number of requests fired simultaneously in each batch</dd>
        <dt>TACo Signing Time</dt>
        <dd>Time spent specifically in the TACo threshold signing operation</dd>
        <dt>p50 / p95 / p99</dt>
        <dd>Percentiles - p50 is median, p95 means 95% of requests were faster than this value</dd>
      </dl>
    </details>
  </div>

  <script>
    const steadyData = [{"rate":3,"total":3,"success":3,"failed":0,"successPct":100,"successLatencyP50":12721,"successLatencyP95":13993,"failureLatencyP50":0,"failureLatencyP95":0,"tacoP50":9699,"tacoP95":10279},{"rate":6,"total":6,"success":6,"failed":0,"successPct":100,"successLatencyP50":12733,"successLatencyP95":19785,"failureLatencyP50":0,"failureLatencyP95":0,"tacoP50":9711,"tacoP95":9784},{"rate":30,"total":30,"success":6,"failed":24,"successPct":20,"successLatencyP50":23732,"successLatencyP95":36558,"failureLatencyP50":35414,"failureLatencyP95":60002,"tacoP50":21134,"tacoP95":33963},{"rate":60,"total":60,"success":2,"failed":58,"successPct":3.3333333333333335,"successLatencyP50":17212,"successLatencyP95":31583,"failureLatencyP50":34987,"failureLatencyP95":60002,"tacoP50":13990,"tacoP95":28549}];

    const burstData = [{"size":3,"total":3,"success":0,"failed":3,"successPct":0,"successLatencyP50":0,"successLatencyP95":0,"failureLatencyP50":59970,"failureLatencyP95":59971,"tacoP50":0,"tacoP95":0},{"size":5,"total":5,"success":0,"failed":5,"successPct":0,"successLatencyP50":0,"successLatencyP95":0,"failureLatencyP50":60000,"failureLatencyP95":60005,"tacoP50":0,"tacoP95":0},{"size":10,"total":10,"success":0,"failed":10,"successPct":0,"successLatencyP50":0,"successLatencyP95":0,"failureLatencyP50":60001,"failureLatencyP95":60003,"tacoP50":0,"tacoP95":0}];

    // Chart.js global defaults for better legibility
    Chart.defaults.font.family = "'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace";
    Chart.defaults.font.size = 12;
    Chart.defaults.color = '#ffffff';

    // Common chart options
    const commonOptions = {
      responsive: true,
      maintainAspectRatio: true,
      interaction: {
        mode: 'index',
        intersect: false,
      },
      plugins: {
        title: {
          display: true,
          color: '#ffffff',
          font: { size: 14, weight: 'bold' },
          padding: { top: 10, bottom: 20 },
        },
        legend: {
          position: 'bottom',
          labels: {
            color: '#ffffff',
            padding: 15,
            usePointStyle: true,
            pointStyle: 'circle',
            font: { size: 11 },
          },
        },
        tooltip: {
          backgroundColor: 'rgba(17, 17, 17, 0.95)',
          titleColor: '#96FF5E',
          bodyColor: '#ffffff',
          borderColor: '#333333',
          borderWidth: 1,
          padding: 12,
          titleFont: { size: 13, weight: 'bold' },
          bodyFont: { size: 12 },
          displayColors: true,
          callbacks: {},
        },
      },
      scales: {
        x: {
          ticks: { color: '#909090', font: { size: 11 } },
          grid: { color: 'rgba(51, 51, 51, 0.5)', drawBorder: false },
          title: { display: true, color: '#909090', font: { size: 12 } },
        },
        y: {
          ticks: { color: '#909090', font: { size: 11 } },
          grid: { color: 'rgba(51, 51, 51, 0.5)', drawBorder: false },
          title: { display: true, color: '#909090', font: { size: 12 } },
        },
      },
    };

    // Steady Rate Charts
    if (steadyData.length > 0) {
      // Success Rate Chart
      new Chart(document.getElementById('steadySuccessChart'), {
        type: 'line',
        data: {
          labels: steadyData.map(d => d.rate + '/min'),
          datasets: [{
            label: 'Success Rate',
            data: steadyData.map(d => d.successPct),
            borderColor: '#96FF5E',
            backgroundColor: 'rgba(150, 255, 94, 0.1)',
            borderWidth: 3,
            fill: true,
            tension: 0.2,
            pointRadius: 6,
            pointHoverRadius: 8,
            pointBackgroundColor: steadyData.map(d =>
              d.successPct >= 95 ? '#96FF5E' :
              d.successPct >= 80 ? '#ffa726' : '#ef5350'
            ),
            pointBorderColor: '#000000',
            pointBorderWidth: 2,
          }],
        },
        options: {
          ...commonOptions,
          plugins: {
            ...commonOptions.plugins,
            title: { ...commonOptions.plugins.title, text: 'Success Rate vs Request Rate' },
            legend: { display: false },
            tooltip: {
              ...commonOptions.plugins.tooltip,
              callbacks: {
                title: (items) => 'Request Rate: ' + items[0].label,
                label: (ctx) => {
                  const d = steadyData[ctx.dataIndex];
                  return [
                    'Success: ' + d.successPct.toFixed(1) + '%',
                    'Succeeded: ' + d.success + ' / ' + d.total,
                    'Failed: ' + d.failed,
                  ];
                },
              },
            },
          },
          scales: {
            x: {
              ...commonOptions.scales.x,
              title: { ...commonOptions.scales.x.title, text: 'Request Rate (requests/min)' },
            },
            y: {
              ...commonOptions.scales.y,
              min: 0,
              max: 100,
              title: { ...commonOptions.scales.y.title, text: 'Success Rate (%)' },
              ticks: { ...commonOptions.scales.y.ticks, callback: (v) => v + '%' },
            },
          },
        },
      });

      // Latency Chart (Success vs Failure)
      new Chart(document.getElementById('steadyLatencyChart'), {
        type: 'line',
        data: {
          labels: steadyData.map(d => d.rate + '/min'),
          datasets: [
            {
              label: 'Success p50',
              data: steadyData.map(d => d.successLatencyP50 / 1000),
              borderColor: '#96FF5E',
              backgroundColor: 'rgba(150, 255, 94, 0.1)',
              borderWidth: 3,
              fill: false,
              tension: 0.2,
              pointRadius: 6,
              pointHoverRadius: 8,
              pointBackgroundColor: '#96FF5E',
              pointBorderColor: '#000000',
              pointBorderWidth: 2,
            },
            {
              label: 'Failure p50',
              data: steadyData.map(d => d.failureLatencyP50 / 1000),
              borderColor: '#ef5350',
              backgroundColor: 'rgba(239, 83, 80, 0.1)',
              borderWidth: 3,
              fill: false,
              tension: 0.2,
              pointRadius: 6,
              pointHoverRadius: 8,
              pointBackgroundColor: '#ef5350',
              pointBorderColor: '#000000',
              pointBorderWidth: 2,
            },
            {
              label: 'TACo Signing p50',
              data: steadyData.map(d => d.tacoP50 / 1000),
              borderColor: '#ffffff',
              backgroundColor: 'rgba(255, 255, 255, 0.1)',
              borderWidth: 2,
              borderDash: [5, 5],
              fill: false,
              tension: 0.2,
              pointRadius: 4,
              pointHoverRadius: 6,
              pointBackgroundColor: '#ffffff',
              pointBorderColor: '#000000',
              pointBorderWidth: 2,
            },
          ],
        },
        options: {
          ...commonOptions,
          plugins: {
            ...commonOptions.plugins,
            title: { ...commonOptions.plugins.title, text: 'Latency: Success vs Failure' },
            tooltip: {
              ...commonOptions.plugins.tooltip,
              callbacks: {
                title: (items) => 'Request Rate: ' + items[0].label,
                label: (ctx) => ctx.dataset.label + ': ' + ctx.parsed.y.toFixed(2) + 's',
              },
            },
          },
          scales: {
            x: {
              ...commonOptions.scales.x,
              title: { ...commonOptions.scales.x.title, text: 'Request Rate (requests/min)' },
            },
            y: {
              ...commonOptions.scales.y,
              beginAtZero: true,
              title: { ...commonOptions.scales.y.title, text: 'Latency (seconds)' },
              ticks: { ...commonOptions.scales.y.ticks, callback: (v) => v + 's' },
            },
          },
        },
      });
    }

    // Burst Size Charts
    if (burstData.length > 0) {
      // Success Rate Chart
      new Chart(document.getElementById('burstSuccessChart'), {
        type: 'line',
        data: {
          labels: burstData.map(d => d.size + ' concurrent'),
          datasets: [{
            label: 'Success Rate',
            data: burstData.map(d => d.successPct),
            borderColor: '#96FF5E',
            backgroundColor: 'rgba(150, 255, 94, 0.1)',
            borderWidth: 3,
            fill: true,
            tension: 0.2,
            pointRadius: 6,
            pointHoverRadius: 8,
            pointBackgroundColor: burstData.map(d =>
              d.successPct >= 95 ? '#96FF5E' :
              d.successPct >= 80 ? '#ffa726' : '#ef5350'
            ),
            pointBorderColor: '#000000',
            pointBorderWidth: 2,
          }],
        },
        options: {
          ...commonOptions,
          plugins: {
            ...commonOptions.plugins,
            title: { ...commonOptions.plugins.title, text: 'Success Rate vs Burst Size' },
            legend: { display: false },
            tooltip: {
              ...commonOptions.plugins.tooltip,
              callbacks: {
                title: (items) => 'Burst Size: ' + items[0].label,
                label: (ctx) => {
                  const d = burstData[ctx.dataIndex];
                  return [
                    'Success: ' + d.successPct.toFixed(1) + '%',
                    'Succeeded: ' + d.success + ' / ' + d.total,
                    'Failed: ' + d.failed,
                  ];
                },
              },
            },
          },
          scales: {
            x: {
              ...commonOptions.scales.x,
              title: { ...commonOptions.scales.x.title, text: 'Burst Size (concurrent requests)' },
            },
            y: {
              ...commonOptions.scales.y,
              min: 0,
              max: 100,
              title: { ...commonOptions.scales.y.title, text: 'Success Rate (%)' },
              ticks: { ...commonOptions.scales.y.ticks, callback: (v) => v + '%' },
            },
          },
        },
      });

      // Latency Chart (Success vs Failure)
      new Chart(document.getElementById('burstLatencyChart'), {
        type: 'line',
        data: {
          labels: burstData.map(d => d.size + ' concurrent'),
          datasets: [
            {
              label: 'Success p50',
              data: burstData.map(d => d.successLatencyP50 / 1000),
              borderColor: '#96FF5E',
              backgroundColor: 'rgba(150, 255, 94, 0.1)',
              borderWidth: 3,
              fill: false,
              tension: 0.2,
              pointRadius: 6,
              pointHoverRadius: 8,
              pointBackgroundColor: '#96FF5E',
              pointBorderColor: '#000000',
              pointBorderWidth: 2,
            },
            {
              label: 'Failure p50',
              data: burstData.map(d => d.failureLatencyP50 / 1000),
              borderColor: '#ef5350',
              backgroundColor: 'rgba(239, 83, 80, 0.1)',
              borderWidth: 3,
              fill: false,
              tension: 0.2,
              pointRadius: 6,
              pointHoverRadius: 8,
              pointBackgroundColor: '#ef5350',
              pointBorderColor: '#000000',
              pointBorderWidth: 2,
            },
            {
              label: 'TACo Signing p50',
              data: burstData.map(d => d.tacoP50 / 1000),
              borderColor: '#ffffff',
              backgroundColor: 'rgba(255, 255, 255, 0.1)',
              borderWidth: 2,
              borderDash: [5, 5],
              fill: false,
              tension: 0.2,
              pointRadius: 4,
              pointHoverRadius: 6,
              pointBackgroundColor: '#ffffff',
              pointBorderColor: '#000000',
              pointBorderWidth: 2,
            },
          ],
        },
        options: {
          ...commonOptions,
          plugins: {
            ...commonOptions.plugins,
            title: { ...commonOptions.plugins.title, text: 'Latency: Success vs Failure' },
            tooltip: {
              ...commonOptions.plugins.tooltip,
              callbacks: {
                title: (items) => 'Burst Size: ' + items[0].label,
                label: (ctx) => ctx.dataset.label + ': ' + ctx.parsed.y.toFixed(2) + 's',
              },
            },
          },
          scales: {
            x: {
              ...commonOptions.scales.x,
              title: { ...commonOptions.scales.x.title, text: 'Burst Size (concurrent requests)' },
            },
            y: {
              ...commonOptions.scales.y,
              beginAtZero: true,
              title: { ...commonOptions.scales.y.title, text: 'Latency (seconds)' },
              ticks: { ...commonOptions.scales.y.ticks, callback: (v) => v + 's' },
            },
          },
        },
      });
    }
  </script>
</body>
</html>